
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <div class="box">
        <input type="text" class="input_box"> <button onclick="add_textbox()">추가</button>
        <ul class="goal"></ul>
    </div>

    <script>
        let icecreamData = localStorage.getItem("icecreammmmm") || "";
        const box = document.querySelector(".box");
        const inputBox = document.querySelector(".input_box");
        const goal = document.querySelector('.goal');
        const li = document.createElement('ul');
        if (icecreamData) {goal.innerHTML = icecreamData;}

        const add_textbox = () => {
            icecreamData += "<li>"+inputBox.value+" <input type='button' value='삭제' onclick='remove(this)'><br/></li>";
            goal.innerHTML = icecreamData;
            //box.appendChild(li);
            localStorage.setItem("icecreammmmm", icecreamData);
            inputBox.value="";
        }
        const remove = (obj) => {
            document.querySelector('.goal').removeChild(obj.parentNode);
        }
    </script>

<section class="timeBox">
    <input type="tel" class="ls_input" numberOnly /> <button>입력</button><!--onchange='printName()'-->
    <div class="ls_result"></div>

    <script>
        // number only
        $(document).on("keyup", "input[numberOnly]", function() {
            let typingValue = this.value;
            if(isNaN(typingValue)){
                alert('숫자로 입력해주세요:)');
                $(this).val( $(this).val().replace(/[^0-9]/gi,"") );
            }
        }); 
        // local storage
        let lsInputData = localStorage.getItem("candy") || "";
        let lsInput = document.querySelector(".ls_input");
        let timeBoxBtn = document.querySelector(".timeBox button");
        let lsResult = document.querySelector(".ls_result");
        
        if (lsInputData) {lsResult.innerText = lsInputData;}
        
        timeBoxBtn.addEventListener("click", function () {
            lsInputData = Number(lsInput.value)+Number(lsResult.innerText); 
            lsResult.innerText = lsInputData;
            localStorage.setItem("candy", lsInputData);
            lsInput.value = "";
        });
    </script>
</section>


</body>
</html>