<!DOCTYPE html>
<html>
<head>
  <title>HERM'S STOPWATCH</title>
  <link rel="shortcut icon" href="https://ayeong88.github.io/Projects/LawOf10000/img/favicon.ico"/>
  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
  <style>
    body {text-align: center; font-size: 48px; background:yellow;}
    button {font-size: 24px; padding: 10px 20px;}
    section{
    position: relative;
    padding: 10px; background: rgba(255, 255, 255, 0.8);}
    img{position: absolute; z-index: -1; top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);}
  </style>
</head>
<body onload="showImage()">
    <section>
        <img id="introImg" src="./img/homer.png">
        <!-- 듣기 시작 -->  
        <article>
            <h2 id="timer_listening">0:00</h2>
            <button id="startButton_listening">LISTENING START</button>
            <button id="stopButton_listening">LISTENING PASUE</button>

            <script>
                let startTime_listening;
                let elapsedTime_listening = 0;
                let timerInterval_listening;

                function startTimer_listening() {
                    startTime_listening = Date.now() - elapsedTime_listening;
                    timerInterval_listening = setInterval(updateTimer, 10);
                }

                function stopTimer_listening() {
                    clearInterval(timerInterval_listening);
                }

                function updateTimer() {
                    let currentTime = Date.now();
                    elapsedTime_listening = currentTime - startTime_listening;
                    updateTimerDisplay_listening();
                }

                function updateTimerDisplay_listening() {
                    let hours = Math.floor(elapsedTime_listening / 3600000); 
                    let minutes = Math.floor((elapsedTime_listening % 3600000) / 60000); 
                    let seconds = Math.floor((elapsedTime_listening % 60000) / 1000); 
                    /* 분까지만 사용할 경우 let hours = Math.floor(elapsedTime / 60000);
                    let seconds = Math.floor((elapsedTime % 60000) / 1000);*/

                    let timerDisplay_listening = hours.toString().padStart(2, '0') + ':' + 
                                    minutes.toString().padStart(2, '0') + ':' +
                                    seconds.toString().padStart(2, '0');

                    document.getElementById("timer_listening").textContent = timerDisplay_listening;
                }

                function saveTimerState() {
                    localStorage.setItem('stopwatchElapsed_listening', elapsedTime_listening.toString());
                }

                function loadTimerState() {
                    let storedElapsed_listening = localStorage.getItem('stopwatchElapsed_listening');
                    if (storedElapsed_listening) {
                        elapsedTime_listening = parseInt(storedElapsed_listening);
                        updateTimerDisplay_listening();
                    }
                }

                document.getElementById("startButton_listening").addEventListener("click", startTimer_listening);
                document.getElementById("stopButton_listening").addEventListener("click", stopTimer_listening);
                window.addEventListener("beforeunload", saveTimerState);
                window.addEventListener("load", loadTimerState);
            </script> 
        </article>

        <!-- 읽기 시작 -->  
        <article>
            <h2 id="timer_reading">0:00</h2>
            <button id="startButton_reading">READING START</button>
            <button id="stopButton_reading">READING PAUSE</button>

            <script>
                let startTime_reading;
                let elapsedTime_reading = 0;
                let timerInterval_reading;

                function startTimer_reading() {
                    startTime_reading = Date.now() - elapsedTime_reading;
                    timerInterval_reading = setInterval(updateTimer_reading, 10);
                }

                function stopTimer_reading() {
                    clearInterval(timerInterval_reading);
                }

                function updateTimer_reading() {
                    let currentTime = Date.now();
                    elapsedTime_reading = currentTime - startTime_reading;
                    updateTimerDisplay_reading();
                }

                function updateTimerDisplay_reading() {
                    let hours = Math.floor(elapsedTime_reading / 3600000); 
                    let minutes = Math.floor((elapsedTime_reading % 3600000) / 60000); 
                    let seconds = Math.floor((elapsedTime_reading % 60000) / 1000); 

                    let timerDisplay_reading = hours.toString().padStart(2, '0') + ':' + 
                                    minutes.toString().padStart(2, '0') + ':' +
                                    seconds.toString().padStart(2, '0');

                    document.getElementById("timer_reading").textContent = timerDisplay_reading;
                }

                function saveTimerState() {
                    localStorage.setItem('stopwatchElapsed_reading', elapsedTime_reading.toString());
                }

                function loadTimerState() {
                    let storedElapsed_reading = localStorage.getItem('stopwatchElapsed_reading');
                    if (storedElapsed_reading) {
                        elapsedTime_reading = parseInt(storedElapsed_reading);
                        updateTimerDisplay_reading();
                    }
                }

                document.getElementById("startButton_reading").addEventListener("click", startTimer_reading);
                document.getElementById("stopButton_reading").addEventListener("click", stopTimer_reading);
                window.addEventListener("beforeunload", saveTimerState);
                window.addEventListener("load", loadTimerState);
            </script> 
        </article>

        <!-- 말하기 시작 -->  
        <article>
            <h2 id="timer_speaking">0:00</h2>
            <button id="startButton_speaking">SPEAKING START</button>
            <button id="stopButton_speaking">SPEAKING PAUSE</button>

            <script>
                let startTime_speaking;
                let elapsedTime_speaking = 0;
                let timerInterval_speaking;

                function startTimer_speaking() {
                    startTime_speaking = Date.now() - elapsedTime_speaking;
                    timerInterval_speaking = setInterval(updateTimer_speaking, 10);
                }

                function stopTimer_speaking() {
                    clearInterval(timerInterval_speaking);
                }

                function updateTimer_speaking() {
                    let currentTime = Date.now();
                    elapsedTime_speaking = currentTime - startTime_speaking;
                    updateTimerDisplay_speaking();
                }

                function updateTimerDisplay_speaking() {
                    let hours = Math.floor(elapsedTime_speaking / 3600000); 
                    let minutes = Math.floor((elapsedTime_speaking % 3600000) / 60000); 
                    let seconds = Math.floor((elapsedTime_speaking % 60000) / 1000); 

                    let timerDisplay_speaking = hours.toString().padStart(2, '0') + ':' + 
                                    minutes.toString().padStart(2, '0') + ':' +
                                    seconds.toString().padStart(2, '0');

                    document.getElementById("timer_speaking").textContent = timerDisplay_speaking;
                }

                function saveTimerState() {
                    localStorage.setItem('stopwatchElapsed_speaking', elapsedTime_speaking.toString());
                }

                function loadTimerState() {
                    let storedElapsed_speaking = localStorage.getItem('stopwatchElapsed_speaking');
                    if (storedElapsed_speaking) {
                        elapsedTime_speaking = parseInt(storedElapsed_speaking);
                        updateTimerDisplay_speaking();
                    }
                }

                document.getElementById("startButton_speaking").addEventListener("click", startTimer_speaking);
                document.getElementById("stopButton_speaking").addEventListener("click", stopTimer_speaking);
                window.addEventListener("beforeunload", saveTimerState);
                window.addEventListener("load", loadTimerState);
            </script> 
        </article>

        <!-- 코딩 시작 -->  
        <article>
            <h2 id="timer_coding">0:00</h2>
            <button id="startButton_coding">CODING START</button>
            <button id="stopButton_coding">CODING PAUSE</button>

            <script>
                let startTime_coding;
                let elapsedTime_coding = 0;
                let timerInterval_coding;

                function startTimer_coding() {
                    startTime_coding = Date.now() - elapsedTime_coding;
                    timerInterval_coding = setInterval(updateTimer_coding, 10);
                }

                function stopTimer_coding() {
                    clearInterval(timerInterval_coding);
                }

                function updateTimer_coding() {
                    let currentTime = Date.now();
                    elapsedTime_coding = currentTime - startTime_coding;
                    updateTimerDisplay_coding();
                }

                function updateTimerDisplay_coding() {
                    let hours = Math.floor(elapsedTime_coding / 3600000); 
                    let minutes = Math.floor((elapsedTime_coding % 3600000) / 60000); 
                    let seconds = Math.floor((elapsedTime_coding % 60000) / 1000); 

                    let timerDisplay_coding = hours.toString().padStart(2, '0') + ':' + 
                                    minutes.toString().padStart(2, '0') + ':' +
                                    seconds.toString().padStart(2, '0');

                    document.getElementById("timer_coding").textContent = timerDisplay_coding;
                }

                function saveTimerState() {
                    localStorage.setItem('stopwatchElapsed_coding', elapsedTime_coding.toString());
                }

                function loadTimerState() {
                    let storedElapsed_coding = localStorage.getItem('stopwatchElapsed_coding');
                    if (storedElapsed_coding) {
                        elapsedTime_coding = parseInt(storedElapsed_coding);
                        updateTimerDisplay_coding();
                    }
                }

                document.getElementById("startButton_coding").addEventListener("click", startTimer_coding);
                document.getElementById("stopButton_coding").addEventListener("click", stopTimer_coding);
                window.addEventListener("beforeunload", saveTimerState);
                window.addEventListener("load", loadTimerState);
            </script>
    </section>

    <script>
        //random img
        var imgArray= new Array();
        imgArray[0]="./img/bart.png";  
        imgArray[1]="./img/homer.png"; 
        imgArray[2]="./img/lisa.png"; 
        imgArray[3]="./img/maggie.png"; 
        imgArray[4]="https://ayeong88.github.io/Projects/LawOf10000/img/marge.png"; 

        function showImage()
        {
            var imgNum=Math.round(Math.random()*4);
            var objImg=document.getElementById("introImg");
            objImg.src=imgArray[imgNum];
        }
    </script>
</body>
</html>
